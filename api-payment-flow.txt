		{
			"name": "Payment Flow",
			"item": [
				{
					"name": "Cart flow",
					"item": [
						{
							"name": "Add course to cart",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{STUDENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"courseId\": 7\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseURL}}/cart/items",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"cart",
										"items"
									]
								}
							},
							"response": [
								{
									"name": "View cart",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"courseId\": 7\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseURL}}/cart/items",
											"host": [
												"{{baseURL}}"
											],
											"path": [
												"cart",
												"items"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": null,
									"header": [
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Method"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Headers"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "Cache-Control",
											"value": "no-cache, no-store, max-age=0, must-revalidate"
										},
										{
											"key": "Pragma",
											"value": "no-cache"
										},
										{
											"key": "Expires",
											"value": "0"
										},
										{
											"key": "X-Frame-Options",
											"value": "DENY"
										},
										{
											"key": "Content-Type",
											"value": "application/json"
										},
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										},
										{
											"key": "Date",
											"value": "Sun, 11 Jan 2026 13:52:56 GMT"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=60"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": \"00\",\n    \"message\": null,\n    \"data\": {\n        \"id\": 1,\n        \"userId\": 8,\n        \"status\": \"ACTIVE\",\n        \"totalAmountCents\": 0,\n        \"items\": [\n            {\n                \"courseId\": 7,\n                \"title\": \"course test 10-01\",\n                \"priceCents\": 0,\n                \"finalPriceCents\": 0,\n                \"thumbnail\": {\n                    \"id\": 26,\n                    \"storageProvider\": \"MINIO\",\n                    \"bucket\": \"lms-files\",\n                    \"objectKey\": \"images/82b287384b8e4970a20dfed975de4de3.jpg\",\n                    \"originalName\": \"Nitro_Wallpaper_03_3840x2400.jpg\",\n                    \"contentType\": \"image/jpeg\",\n                    \"sizeBytes\": 4765197,\n                    \"checksumSha256\": \"c2461dfe4bbc46094dfb693fd042fc5926b74ed54b00cd1e4f0ef5261b348ec4\",\n                    \"isPublic\": false,\n                    \"accessUrl\": null,\n                    \"status\": \"ATTACHED\",\n                    \"purpose\": \"THUMBNAIL\",\n                    \"courseId\": 7,\n                    \"lessonId\": null\n                }\n            },\n            {\n                \"courseId\": 6,\n                \"title\": \"ReactJs Masterclass (Updated)\",\n                \"priceCents\": 0,\n                \"finalPriceCents\": 0,\n                \"thumbnail\": {\n                    \"id\": 22,\n                    \"storageProvider\": \"MINIO\",\n                    \"bucket\": \"lms-files\",\n                    \"objectKey\": \"images/0f7e13ffee5845cc83ab5bff1e224c5d.jpg\",\n                    \"originalName\": \"Nitro_Wallpaper_05_3840x2400.jpg\",\n                    \"contentType\": \"image/jpeg\",\n                    \"sizeBytes\": 3480308,\n                    \"checksumSha256\": \"6749a5c70011ccf944ce4f12544abeebf7522e1895761c2e0a7ca237b590794a\",\n                    \"isPublic\": true,\n                    \"accessUrl\": null,\n                    \"status\": \"ATTACHED\",\n                    \"purpose\": \"THUMBNAIL\",\n                    \"courseId\": 6,\n                    \"lessonId\": null\n                }\n            }\n        ]\n    }\n}"
								}
							]
						},
						{
							"name": "View cart",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{STUDENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseURL}}/cart",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"cart"
									]
								}
							},
							"response": [
								{
									"name": "View cart",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseURL}}/cart",
											"host": [
												"{{baseURL}}"
											],
											"path": [
												"cart"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": null,
									"header": [
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Method"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Headers"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "Cache-Control",
											"value": "no-cache, no-store, max-age=0, must-revalidate"
										},
										{
											"key": "Pragma",
											"value": "no-cache"
										},
										{
											"key": "Expires",
											"value": "0"
										},
										{
											"key": "X-Frame-Options",
											"value": "DENY"
										},
										{
											"key": "Content-Type",
											"value": "application/json"
										},
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										},
										{
											"key": "Date",
											"value": "Sun, 11 Jan 2026 13:54:10 GMT"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=60"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": \"00\",\n    \"message\": null,\n    \"data\": {\n        \"id\": 1,\n        \"userId\": 8,\n        \"status\": \"ACTIVE\",\n        \"totalAmountCents\": 0,\n        \"items\": [\n            {\n                \"courseId\": 7,\n                \"title\": \"course test 10-01\",\n                \"priceCents\": 0,\n                \"finalPriceCents\": 0,\n                \"thumbnail\": {\n                    \"id\": 26,\n                    \"storageProvider\": \"MINIO\",\n                    \"bucket\": \"lms-files\",\n                    \"objectKey\": \"images/82b287384b8e4970a20dfed975de4de3.jpg\",\n                    \"originalName\": \"Nitro_Wallpaper_03_3840x2400.jpg\",\n                    \"contentType\": \"image/jpeg\",\n                    \"sizeBytes\": 4765197,\n                    \"checksumSha256\": \"c2461dfe4bbc46094dfb693fd042fc5926b74ed54b00cd1e4f0ef5261b348ec4\",\n                    \"isPublic\": false,\n                    \"accessUrl\": null,\n                    \"status\": \"ATTACHED\",\n                    \"purpose\": \"THUMBNAIL\",\n                    \"courseId\": 7,\n                    \"lessonId\": null\n                }\n            },\n            {\n                \"courseId\": 6,\n                \"title\": \"ReactJs Masterclass (Updated)\",\n                \"priceCents\": 0,\n                \"finalPriceCents\": 0,\n                \"thumbnail\": {\n                    \"id\": 22,\n                    \"storageProvider\": \"MINIO\",\n                    \"bucket\": \"lms-files\",\n                    \"objectKey\": \"images/0f7e13ffee5845cc83ab5bff1e224c5d.jpg\",\n                    \"originalName\": \"Nitro_Wallpaper_05_3840x2400.jpg\",\n                    \"contentType\": \"image/jpeg\",\n                    \"sizeBytes\": 3480308,\n                    \"checksumSha256\": \"6749a5c70011ccf944ce4f12544abeebf7522e1895761c2e0a7ca237b590794a\",\n                    \"isPublic\": true,\n                    \"accessUrl\": null,\n                    \"status\": \"ATTACHED\",\n                    \"purpose\": \"THUMBNAIL\",\n                    \"courseId\": 6,\n                    \"lessonId\": null\n                }\n            }\n        ]\n    }\n}"
								}
							]
						},
						{
							"name": "Remove a course from cart",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{STUDENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{baseURL}}/cart/items/:itemId",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"cart",
										"items",
										":itemId"
									],
									"variable": [
										{
											"key": "itemId",
											"value": "6"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Checkout cart -> create order with multiple items",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{STUDENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{ \"cartId\": 1 }",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseURL}}/orders/checkout",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"orders",
										"checkout"
									]
								}
							},
							"response": [
								{
									"name": "Checkout cart -> create order with multiple items",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{ \"cartId\": 1 }",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseURL}}/orders/checkout",
											"host": [
												"{{baseURL}}"
											],
											"path": [
												"orders",
												"checkout"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "",
									"header": [
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Method"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Headers"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "Cache-Control",
											"value": "no-cache, no-store, max-age=0, must-revalidate"
										},
										{
											"key": "Pragma",
											"value": "no-cache"
										},
										{
											"key": "Expires",
											"value": "0"
										},
										{
											"key": "X-Frame-Options",
											"value": "DENY"
										},
										{
											"key": "Content-Type",
											"value": "application/json"
										},
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										},
										{
											"key": "Date",
											"value": "Mon, 12 Jan 2026 08:44:29 GMT"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=60"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": \"00\",\n    \"message\": null,\n    \"data\": {\n        \"id\": 29,\n        \"userId\": 8,\n        \"totalAmountCents\": 0,\n        \"currency\": \"VND\",\n        \"status\": \"PAID\",\n        \"paymentMethod\": \"VNPAY\",\n        \"paidAt\": \"2026-01-12T15:44:29.725029\"\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Payment",
					"item": [
						{
							"name": "Generate VNPay payment URL (order must be PENDING and amount > 0)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{STUDENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{baseURL}}/orders/{orderId}/pay/vnpay",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"orders",
										"{orderId}",
										"pay",
										"vnpay"
									]
								}
							},
							"response": []
						},
						{
							"name": "Return URL (VNPay redirects user here; FE should parse params)",
							"request": {
								"method": "GET",
								"header": []
							},
							"response": []
						},
						{
							"name": "IPN (server-to-server; VNPay calls BE directly)",
							"request": {
								"method": "GET",
								"header": []
							},
							"response": []
						},
						{
							"name": "Check order status",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{STUDENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseURL}}/orders/:orderId",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"orders",
										":orderId"
									],
									"variable": [
										{
											"key": "orderId",
											"value": "27"
										}
									]
								}
							},
							"response": [
								{
									"name": "Check order status",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseURL}}/orders/:orderId",
											"host": [
												"{{baseURL}}"
											],
											"path": [
												"orders",
												":orderId"
											],
											"variable": [
												{
													"key": "orderId",
													"value": "27"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "",
									"header": [
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Method"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Headers"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "Cache-Control",
											"value": "no-cache, no-store, max-age=0, must-revalidate"
										},
										{
											"key": "Pragma",
											"value": "no-cache"
										},
										{
											"key": "Expires",
											"value": "0"
										},
										{
											"key": "X-Frame-Options",
											"value": "DENY"
										},
										{
											"key": "Content-Type",
											"value": "application/json"
										},
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										},
										{
											"key": "Date",
											"value": "Mon, 12 Jan 2026 08:50:11 GMT"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=60"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": \"00\",\n    \"message\": null,\n    \"data\": {\n        \"id\": 27,\n        \"userId\": 8,\n        \"totalAmountCents\": 150000,\n        \"currency\": \"VND\",\n        \"status\": \"PAID\",\n        \"paymentMethod\": \"VNPAY\",\n        \"paidAt\": \"2026-01-06T16:37:05\"\n    }\n}"
								}
							]
						},
						{
							"name": "Check enrollments after payment success",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{STUDENT_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseURL}}/me/enrollments?page=0&size=10",
									"host": [
										"{{baseURL}}"
									],
									"path": [
										"me",
										"enrollments"
									],
									"query": [
										{
											"key": "page",
											"value": "0"
										},
										{
											"key": "size",
											"value": "10"
										}
									]
								}
							},
							"response": [
								{
									"name": "Check enrollments after payment success",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseURL}}/me/enrollments?page=0&size=10",
											"host": [
												"{{baseURL}}"
											],
											"path": [
												"me",
												"enrollments"
											],
											"query": [
												{
													"key": "page",
													"value": "0"
												},
												{
													"key": "size",
													"value": "10"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "",
									"header": [
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Method"
										},
										{
											"key": "Vary",
											"value": "Access-Control-Request-Headers"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "Cache-Control",
											"value": "no-cache, no-store, max-age=0, must-revalidate"
										},
										{
											"key": "Pragma",
											"value": "no-cache"
										},
										{
											"key": "Expires",
											"value": "0"
										},
										{
											"key": "X-Frame-Options",
											"value": "DENY"
										},
										{
											"key": "Content-Type",
											"value": "application/json"
										},
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										},
										{
											"key": "Date",
											"value": "Mon, 12 Jan 2026 08:51:04 GMT"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=60"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": \"00\",\n    \"message\": null,\n    \"data\": {\n        \"content\": [\n            {\n                \"id\": 3,\n                \"courseId\": 4,\n                \"userId\": 8,\n                \"enrolledAt\": \"2026-01-06T16:37:05\",\n                \"status\": \"ACTIVE\"\n            },\n            {\n                \"id\": 5,\n                \"courseId\": 7,\n                \"userId\": 8,\n                \"enrolledAt\": \"2026-01-12T15:44:30\",\n                \"status\": \"ACTIVE\"\n            },\n            {\n                \"id\": 6,\n                \"courseId\": 6,\n                \"userId\": 8,\n                \"enrolledAt\": \"2026-01-12T15:44:30\",\n                \"status\": \"ACTIVE\"\n            }\n        ],\n        \"pageable\": {\n            \"pageNumber\": 0,\n            \"pageSize\": 10,\n            \"sort\": [],\n            \"offset\": 0,\n            \"paged\": true,\n            \"unpaged\": false\n        },\n        \"last\": true,\n        \"totalElements\": 3,\n        \"totalPages\": 1,\n        \"size\": 10,\n        \"number\": 0,\n        \"sort\": [],\n        \"first\": true,\n        \"numberOfElements\": 3,\n        \"empty\": false\n    }\n}"
								}
							]
						}
					]
				}
			]
		},